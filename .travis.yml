dist: trusty
os:  linux

language: cpp

compiler:
  - gcc

env:
  global:
    # The next declaration is the encrypted COVERITY_SCAN_TOKEN, created
    # via the "travis encrypt" command using the project repo's public key
    - secure: "fmsb9wM5K/N39GraM+97Kko1leyOLG/Fjkj3XH4onvs46WFzpiVIyWhxwENoUiSyKWkWd5TpHaO2mO0TWokIQuUxd5BZTSVBnPqtFsNbOdPNKTxArUbZsEkNofY9zMTMDM7iKpzS8Wuha+CRXeQQ1xUP7LuPgKvHoO/NAk+sT8y2gllq53th2jrFkkWh5LZYfXdwlfKKxJFr+GVQz8KNwFYhEiyuP3lyXWrt7m0+e25eE0KWhAbzLuGp4LgJMLq0kR13DVEDNNnPm7LG4pYBbwXRhB5wA+XDx4N/rtoaBu9Db4BcF71FtbRlFK3hhYmu4nz9mOQispA4T028obY135NfIL919C6OutpKHtA4MlZeHq+1i01y8BvF+LPpfTifbv55gDI/mt8v6TbkoE9p0FcB1X9mC8mJWuzJi0DThSdLE8kQfjqYZ7+kC1akKhVI6ifyogtehJsqlYbfm276k/q4eKV5xUOcGCtATAEhISvpcUMm2SSFz30vf7QgEuVjFhUDE1qGpCiTyoEzS15+9cnFbR5CYbg0gvwDxyvjhL24fHO0ZeUefccJgdLpK5IdFQH5+oRj+WPsroCDg7CDlXmBAkxZ0iB3SuUqVptrdoTq6FXK44oO2OZPEONwfi+lhN/6S3j1rJXl2nS/aq/ppCtqANcYqCvMTtR3pjvj1fc="
    - BUILD=RELEASE

before_script:
  - mkdir BUILD && cd BUILD
  - CXX="g++ -m64" CC="gcc -m64" cmake .. -DCMAKE_BUILD_TYPE=$BUILD

script:
  - make && ctest --output-on-failure

addons:
  coverity_scan:
    project:
      name: "snps-virtualprototyping/ocx-qemu-arm"
      description: "OpenCpuX/qemu-arm - Open Source Instruction-Set Simulation Integration Kit"
    notification_email: tobies@synopsys.com
    build_command: "make"
    branch_pattern: master 
